{% extends "utilisateurs/base.html" %}

{% block title %}Dashboard Admin - IMJF{% endblock %}

{% block content %}
<div class="space-y-6">
    <!-- Statistics Cards Grid -->
    <div class="grid grid-cols-4 md:grid-cols-2 lg:grid-cols-5 gap-5">
        
        <!-- Card 1: Inscriptions -->
        <div class="bg-white rounded-lg shadow-md transform hover:scale-105 transition-all duration-300 relative z-40">
            <div class="border-l-4 border-yellow-500 p-6">
                <div class="flex flex-col md:flex-row md:items-center md:justify-between items-center">
                    <div class="text-center md:text-left">
                        <p class="text-gray-500 text-sm font-medium mb-1">Inscriptions</p>
                        <p class="text-3xl font-bold text-gray-800">{{ inscriptions_count|default:"0" }}</p>
                        <p class="text-xs text-gray-400 mt-1">Nouvelles inscriptions</p>
                    </div>
                    <div class="mt-4 md:mt-0 md:ml-4 flex-shrink-0">
                        <div class="bg-yellow-100 w-12 h-12 rounded-full flex items-center justify-center">
                            <i class="fas fa-user-plus text-yellow-600 text-xl"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Card 2: Élèves -->
        <div class="bg-white rounded-lg shadow-md transform hover:scale-105 transition-all duration-300 relative z-40">
            <div class="border-l-4 border-blue-500 p-6">
                <div class="flex flex-col md:flex-row md:items-center md:justify-between items-center">
                    <div class="text-center md:text-left">
                        <p class="text-gray-500 text-sm font-medium mb-1">Élèves</p>
                        <p class="text-3xl font-bold text-gray-800">{{ eleves_count|default:"0" }}</p>
                        <p class="text-xs text-gray-400 mt-1">Total des élèves</p>
                    </div>
                    <div class="mt-4 md:mt-0 md:ml-4 flex-shrink-0">
                        <div class="bg-blue-100 w-12 h-12 rounded-full flex items-center justify-center">
                            <i class="fas fa-users text-blue-600 text-xl"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Card 3: Enseignants -->
        <div class="bg-white rounded-lg shadow-md transform hover:scale-105 transition-all duration-300 relative z-40">
            <div class="border-l-4 border-green-500 p-6">
                <div class="flex flex-col md:flex-row md:items-center md:justify-between items-center">
                    <div class="text-center md:text-left">
                        <p class="text-gray-500 text-sm font-medium mb-1">Enseignants</p>
                        <p class="text-3xl font-bold text-gray-800">{{ enseignants_count|default:"0" }}</p>
                        <p class="text-xs text-gray-400 mt-1">Personnel enseignant</p>
                    </div>
                    <div class="mt-4 md:mt-0 md:ml-4 flex-shrink-0">
                        <div class="bg-green-100 w-12 h-12 rounded-full flex items-center justify-center">
                            <i class="fas fa-chalkboard-teacher text-green-600 text-xl"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Card 4: Classes -->
        <div class="bg-white rounded-lg shadow-md transform hover:scale-105 transition-all duration-300 relative z-40">
            <div class="border-l-4 border-purple-500 p-6">
                <div class="flex flex-col md:flex-row md:items-center md:justify-between items-center">
                    <div class="text-center md:text-left">
                        <p class="text-gray-500 text-sm font-medium mb-1">Classes</p>
                        <p class="text-3xl font-bold text-gray-800">{{ classes_count|default:"0" }}</p>
                        <p class="text-xs text-gray-400 mt-1">Salles de classe</p>
                    </div>
                    <div class="mt-4 md:mt-0 md:ml-4 flex-shrink-0">
                        <div class="bg-purple-100 w-12 h-12 rounded-full flex items-center justify-center">
                            <i class="fas fa-door-open text-purple-600 text-xl"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Card 5: Matières -->
        <div class="bg-white rounded-lg shadow-md transform hover:scale-105 transition-all duration-300 relative z-40">
            <div class="border-l-4 border-pink-500 p-6">
                <div class="flex flex-col md:flex-row md:items-center md:justify-between items-center">
                    <div class="text-center md:text-left">
                        <p class="text-gray-500 text-sm font-medium mb-1">Matières</p>
                        <p class="text-3xl font-bold text-gray-800">{{ matieres_count|default:"0" }}</p>
                        <p class="text-xs text-gray-400 mt-1">Matières enseignées</p>
                    </div>
                    <div class="mt-4 md:mt-0 md:ml-4 flex-shrink-0">
                        <div class="bg-pink-100 w-12 h-12 rounded-full flex items-center justify-center">
                            <i class="fas fa-book text-pink-600 text-xl"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Card 6: Cours -->
        <div class="bg-white rounded-lg shadow-md transform hover:scale-105 transition-all duration-300 relative z-40">
            <div class="border-l-4 border-orange-500 p-6">
                <div class="flex flex-col md:flex-row md:items-center md:justify-between items-center">
                    <div class="text-center md:text-left">
                        <p class="text-gray-500 text-sm font-medium mb-1">Cours</p>
                        <p class="text-3xl font-bold text-gray-800">{{ cours_count|default:"0" }}</p>
                        <p class="text-xs text-gray-400 mt-1">Programme de cours</p>
                    </div>
                    <div class="mt-4 md:mt-0 md:ml-4 flex-shrink-0">
                        <div class="bg-orange-100 w-12 h-12 rounded-full flex items-center justify-center">
                            <i class="fas fa-calendar-alt text-orange-600 text-xl"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Card 7: Secrétaire -->
        <div class="bg-white rounded-lg shadow-md transform hover:scale-105 transition-all duration-300 relative z-40">
            <div class="border-l-4 border-teal-500 p-6">
                <div class="flex flex-col md:flex-row md:items-center md:justify-between items-center">
                    <div class="text-center md:text-left">
                        <p class="text-gray-500 text-sm font-medium mb-1">Secrétaire</p>
                        <p class="text-3xl font-bold text-gray-800">{{ secretaires_count|default:"0" }}</p>
                        <p class="text-xs text-gray-400 mt-1">Personnel administratif</p>
                    </div>
                    <div class="mt-4 md:mt-0 md:ml-4 flex-shrink-0">
                        <div class="bg-teal-100 w-12 h-12 rounded-full flex items-center justify-center">
                            <i class="fas fa-user-tie text-teal-600 text-xl"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Card 8: Directeur -->
        <div class="bg-white rounded-lg shadow-md transform hover:scale-105 transition-all duration-300 relative z-40">
            <div class="border-l-4 border-indigo-500 p-6">
                <div class="flex flex-col md:flex-row md:items-center md:justify-between items-center">
                    <div class="text-center md:text-left">
                        <p class="text-gray-500 text-sm font-medium mb-1">Directeur</p>
                        <p class="text-3xl font-bold text-gray-800">{{ directeurs_count|default:"0" }}</p>
                        <p class="text-xs text-gray-400 mt-1">Direction</p>
                    </div>
                    <div class="mt-4 md:mt-0 md:ml-4 flex-shrink-0">
                        <div class="bg-indigo-100 w-12 h-12 rounded-full flex items-center justify-center">
                            <i class="fas fa-user-shield text-indigo-600 text-xl"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Card 9: Archives -->
        <div class="bg-white rounded-lg shadow-md transform hover:scale-105 transition-all duration-300 relative z-40">
            <div class="border-l-4 border-gray-500 p-6">
                <div class="flex flex-col md:flex-row md:items-center md:justify-between items-center">
                    <div class="text-center md:text-left">
                        <p class="text-gray-500 text-sm font-medium mb-1">Archives</p>
                        <p class="text-3xl font-bold text-gray-800">{{ archives_count|default:"0" }}</p>
                        <p class="text-xs text-gray-400 mt-1">Dossiers archivés</p>
                    </div>
                    <div class="mt-4 md:mt-0 md:ml-4 flex-shrink-0">
                        <div class="bg-gray-200 w-12 h-12 rounded-full flex items-center justify-center">
                            <i class="fas fa-archive text-gray-700 text-xl"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Card 10: Utilisateurs -->
        <div class="bg-white rounded-lg shadow-md transform hover:scale-105 transition-all duration-300 relative z-40">
            <div class="border-l-4 border-red-500 p-6">
                <div class="flex flex-col md:flex-row md:items-center md:justify-between items-center">
                    <div class="text-center md:text-left">
                        <p class="text-gray-500 text-sm font-medium mb-1">Utilisateurs</p>
                        <p class="text-3xl font-bold text-gray-800">{{ users_count|default:"0" }}</p>
                        <p class="text-xs text-gray-400 mt-1">Comptes utilisateurs</p>
                    </div>
                    <div class="mt-4 md:mt-0 md:ml-4 flex-shrink-0">
                        <div class="bg-red-100 w-12 h-12 rounded-full flex items-center justify-center">
                            <i class="fas fa-user-cog text-red-600 text-xl"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <!-- Recent Activities Section -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mt-8">
        <!-- Recent Inscriptions -->
        <div class="bg-white rounded-lg shadow-md p-6">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-lg font-semibold text-gray-800">
                    <i class="fas fa-user-plus text-yellow-500 mr-2"></i>
                    Inscriptions Récentes
                </h3>
                <a href="{% url 'inscriptions:inscription_list' %}" class="text-yellow-600 hover:text-yellow-700 text-sm font-medium">
                    Voir tout <i class="fas fa-arrow-right ml-1"></i>
                </a>
            </div>
            <div class="space-y-3">
                {% if recent_inscriptions %}
                    {% for inscription in recent_inscriptions %}
                    <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition">
                        <div class="flex items-center space-x-3">
                            <div class="w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center">
                                <i class="fas fa-user text-yellow-600"></i>
                            </div>
                            <div>
                                <p class="font-medium text-gray-800">{{ inscription.nom }} {{ inscription.prenom }}</p>
                                <p class="text-xs text-gray-500">{{ inscription.date_inscription|date:"d/m/Y" }}</p>
                            </div>
                        </div>
                        <span class="text-xs bg-yellow-100 text-yellow-700 px-3 py-1 rounded-full">Nouveau</span>
                    </div>
                    {% endfor %}
                {% else %}
                    <p class="text-gray-500 text-center py-4">Aucune inscription récente</p>
                {% endif %}
            </div>
        </div>

        <!-- Quick Stats -->
        <div class="bg-white rounded-lg shadow-md p-6">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-lg font-semibold text-gray-800">
                    <i class="fas fa-chart-pie text-blue-500 mr-2"></i>
                    Statistiques Rapides
                </h3>
            </div>
            <div class="space-y-4">
                <div class="flex items-center justify-between">
                    <span class="text-gray-600">Taux de présence</span>
                    <div class="flex items-center space-x-2">
                        <div class="w-32 bg-gray-200 rounded-full h-2">
                            <div class="bg-green-500 h-2 rounded-full" style="width: 85%"></div>
                        </div>
                        <span class="text-sm font-semibold text-gray-700">85%</span>
                    </div>
                </div>
                <div class="flex items-center justify-between">
                    <span class="text-gray-600">Classes actives</span>
                    <div class="flex items-center space-x-2">
                        <div class="w-32 bg-gray-200 rounded-full h-2">
                            <div class="bg-blue-500 h-2 rounded-full" style="width: 92%"></div>
                        </div>
                        <span class="text-sm font-semibold text-gray-700">92%</span>
                    </div>
                </div>
                <div class="flex items-center justify-between">
                    <span class="text-gray-600">Satisfaction</span>
                    <div class="flex items-center space-x-2">
                        <div class="w-32 bg-gray-200 rounded-full h-2">
                            <div class="bg-yellow-500 h-2 rounded-full" style="width: 78%"></div>
                        </div>
                        <span class="text-sm font-semibold text-gray-700">78%</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}